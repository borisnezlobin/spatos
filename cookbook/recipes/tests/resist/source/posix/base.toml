name = "Portable Operating System Interface - Base Definitions"
desc = "POSIX.1-2017: https://pubs.opengroup.org/onlinepubs/9699919799/"

[tests.stdio]
desc = """
stdio.h - standard buffered input/output:
https://pubs.opengroup.org/onlinepubs/9699919799/basedefs/stdio.h.html
"""
kind = "c"
source = """
#include <stdio.h>

#ifndef BUFSIZ
    #error BUFSIZ not defined
#endif

#ifndef SEEK_CUR
    #error SEEK_CUR not defined
#endif
#ifndef SEEK_END
    #error SEEK_END not defined
#endif
#ifndef SEEK_SET
    #error SEEK_SET not defined
#endif

#ifndef FILENAME_MAX
    #error FILENAME_MAX not defined
#endif
/*TODO: define in relibc
#ifndef FOPEN_MAX
    #error FOPEN_MAX not defined
#endif
*/
#ifndef TMP_MAX
    #error TMP_MAX not defined
#endif

#ifndef EOF
    #error EOF not defined
#endif

int main(int argc, char ** argv) {
    printf("printf %d %.1f %c %s\\n", 1, 2.0, 'c', "str");
    return 0;
}
"""
output = """
printf 1 2.0 c str
"""
